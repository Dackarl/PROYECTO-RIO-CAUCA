<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Defensa Tesis - Diseño Cartográfico Río Cauca</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=Inter:wght@300;400;600&display=swap');

        :root {
            --map-blue: #0A192F;
            --map-stream: #64FFDA;
            --map-contour: rgba(100, 255, 218, 0.05);
            --map-text: #CCD6F6;
            --map-accent: #112240;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--map-blue);
            overflow: hidden;
            color: var(--map-text);
        }

        h1, h2, h3, h4 { font-family: 'Space Grotesk', sans-serif; }

        /* Fondo de Mapa Topográfico */
        .topo-bg {
            position: absolute;
            inset: 0;
            background-image: 
                radial-gradient(circle at 2px 2px, var(--map-contour) 1px, transparent 0);
            background-size: 40px 40px;
            z-index: 1;
        }

        .contour-lines {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0.1;
            background: repeating-radial-gradient(circle at 10% 10%, transparent 0, transparent 50px, var(--map-stream) 51px, transparent 52px);
            z-index: 1;
        }

        .slide {
            display: none;
            height: 100vh;
            width: 100vw;
            position: relative;
            z-index: 10;
            padding: 0;
            overflow: hidden;
        }

        .slide.active { display: flex; flex-direction: column; animation: slideFade 1s ease-out; }

        @keyframes slideFade {
            from { opacity: 0; filter: blur(10px); }
            to { opacity: 1; filter: blur(0); }
        }

        /* El Río como Línea de Flujo de Datos */
        .river-line-container {
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 5;
            pointer-events: none;
            opacity: 0.3;
        }

        .river-path {
            fill: none;
            stroke: var(--map-stream);
            stroke-width: 2;
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: drawLine 10s linear infinite;
        }

        @keyframes drawLine {
            to { stroke-dashoffset: -1000; }
        }

        .nav-btn {
            position: fixed;
            bottom: 40px;
            z-index: 100;
            background: var(--map-accent);
            border: 1px solid var(--map-stream);
            color: var(--map-stream);
            padding: 12px 24px;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            transition: all 0.3s;
            clip-path: polygon(10% 0, 100% 0, 90% 100%, 0 100%);
        }
        
        .nav-btn:hover { 
            background: var(--map-stream); 
            color: var(--map-blue);
            box-shadow: 0 0 20px rgba(100, 255, 218, 0.4);
        }

        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 3px;
            background: var(--map-stream);
            z-index: 1000;
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 10px var(--map-stream);
        }

        .content-box {
            position: relative;
            padding: 0 12%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .data-card {
            background: rgba(17, 34, 64, 0.8);
            border: 1px solid rgba(100, 255, 218, 0.1);
            padding: 2rem;
            backdrop-filter: blur(10px);
            border-left: 4px solid var(--map-stream);
        }
    </style>
</head>
<body>

    <div id="progressBar" class="progress-bar" style="width: 8.33%"></div>
    <div class="topo-bg"></div>
    <div class="contour-lines"></div>

    <div class="logo-container fixed top-8 right-8 z-30">
        <img src="logo.png" alt="Logo de la universidad" class="w-auto opacity-90" style="height: 147px;">
    </div>

    <!-- 1. PORTADA -->
    <div class="slide active">
        <div class="content-box text-left">
            <div class="mb-6 flex items-center space-x-4">
                <div class="h-[1px] w-20 bg-map-stream"></div>
                <span class="text-map-stream tracking-widest text-xs uppercase">Facultad de Ingeniería y Ciencias • Maestría en Ciencia de Datos</span>
            </div>
            <h1 class="text-4xl md:text-6xl font-bold mb-8 tracking-tighter">
                PREDICCIÓN DEL PH Y EL DBO EN EL RÍO CAUCA UTILIZANDO TÉCNICAS DE MACHINE LEARNING
            </h1>
            <p class="text-xl text-gray-400 max-w-2xl mb-8 border-l-2 border-map-stream pl-6">
                Anticipando cambios críticos de calidad
            </p>
            <div class="mb-8">
                <span class="text-map-stream font-bold text-lg">Autores</span>
                <ul class="list-none mt-2 mb-4">
                    <li class="text-white text-lg">DANIEL SOTELO DE LA CRUZ</li>
                    <li class="text-white text-lg">WEIMAR CORTES MONTIEL</li>
                </ul>
                <span class="text-map-stream font-bold text-lg">Director del Proyecto</span>
                <div class="text-white text-lg mt-2 mb-4">CRISTIAN ALEJANDRO TORRES VALENCIA</div>
            </div>
            <div class="text-sm text-gray-400 mb-4">
                Proyecto Aplicado para optar al título de Magister en Ciencia de Datos
            </div>
            <div class="text-sm text-white">
                SANTIAGO DE CALI, 2026
            </div>
        </div>
    </div>

    <!-- 2. CONTEXTO -->
    <div class="slide">
        <div class="content-box">
            <h2 class="text-4xl font-bold mb-8 flex items-center">
                <span class="text-map-stream mr-4">02.</span> Contextualización
            </h2>
            <div class="mb-6 text-xl font-semibold text-map-stream">Definición del Problema</div>
            <div class="mb-4 text-lg text-white">pH & DBO <span class="text-map-stream">VARIABLES CRÍTICAS</span></div>
            <div class="space-y-6 mb-8">
                <div>
                    <span class="text-map-stream font-bold text-lg">01.</span>
                    <span class="text-white font-bold ml-2">Presión Ambiental</span>
                    <p class="text-sm text-gray-300 mt-2 ml-8">Deterioro progresivo en la cuenca alta (Cauca, Valle y Risaralda) por actividades agrícolas, industriales y urbanas. El vertimiento de aguas residuales sin tratamiento altera drásticamente el equilibrio químico del ecosistema fluvial [1].</p>
                </div>
                <div>
                    <span class="text-map-stream font-bold text-lg">02.</span>
                    <span class="text-white font-bold ml-2">Brecha de Monitoreo</span>
                    <p class="text-sm text-gray-300 mt-2 ml-8">Los sistemas tradicionales poseen una capacidad limitada de cobertura temporal y espacial. Esta limitación técnica impide anticipar cambios críticos, dificultando una respuesta proactiva ante la descomposición de materia orgánica [2].</p>
                </div>
                <div>
                    <span class="text-map-stream font-bold text-lg">03.</span>
                    <span class="text-white font-bold ml-2">Modelado Predictivo</span>
                    <p class="text-sm text-gray-300 mt-2 ml-8">Surge la necesidad de implementar modelos de Machine Learning. El aprovechamiento de datos fisicoquímicos permite automatizar la detección de patrones y estimar con precisión los indicadores de calidad del agua [3].</p>
                </div>
            </div>
            <div class="mt-8 text-center">
                <div class="text-map-stream text-lg font-bold mb-2">Pregunta Central de Investigación</div>
                <div class="italic text-white text-xl font-light">
                    "¿Cómo predecir los niveles de pH y Demanda Bioquímica de Oxígeno (DBO) en el Río Cauca, a partir del análisis de datos y variables fisicoquímicas utilizando modelos de Machine Learning?"
                </div>
            </div>
        </div>
    </div>

    <!-- 3. EL PROBLEMA -->
    <div class="slide">
        <div class="content-box">
            <h2 class="text-4xl font-bold mb-8 flex items-center">
                <span class="text-map-stream mr-4">03.</span> Investigación
            </h2>
            <div class="mb-6 text-xl font-semibold text-map-stream">Objetivos • Metas</div>
            <div class="mb-4 text-lg text-white">PROPÓSITO DEL PROYECTO</div>
            <div class="mb-6">
                <span class="text-map-stream font-bold text-lg">Objetivo General</span>
                <p class="text-sm text-white mt-2">Predecir los niveles de pH y DBO en el Río Cauca, mediante el análisis de variables fisicoquímicas utilizando modelos de Machine Learning.</p>
            </div>
            <div class="space-y-6 mb-8">
                <div>
                    <span class="text-map-stream font-bold text-lg">01.</span>
                    <span class="text-white font-bold ml-2">Preparación</span>
                    <p class="text-sm text-gray-300 mt-2 ml-8">Preparar los conjuntos de datos de calidad del agua del Río Cauca para el análisis predictivo.</p>
                </div>
                <div>
                    <span class="text-map-stream font-bold text-lg">02.</span>
                    <span class="text-white font-bold ml-2">Identificación</span>
                    <p class="text-sm text-gray-300 mt-2 ml-8">Identificar las variables fisicoquímicas significativas que influyen en los niveles de pH y DBO.</p>
                </div>
                <div>
                    <span class="text-map-stream font-bold text-lg">03.</span>
                    <span class="text-white font-bold ml-2">Entrenamiento</span>
                    <p class="text-sm text-gray-300 mt-2 ml-8">Entrenar diferentes modelos de regresión para la predicción de niveles a partir de datos históricos.</p>
                </div>
                <div>
                    <span class="text-map-stream font-bold text-lg">04.</span>
                    <span class="text-white font-bold ml-2">Evaluación</span>
                    <p class="text-sm text-gray-300 mt-2 ml-8">Evaluar los modelos de regresión mediante métricas de rendimiento para asegurar la fiabilidad.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 4. PREGUNTA -->
    <div class="slide">
        <div class="content-box">
            <div class="flex flex-col md:flex-row justify-between items-end mb-10 border-b border-map-stream border-opacity-30 pb-8">
                <div>
                    <span class="text-map-stream tracking-[0.4em] uppercase mb-3 block font-black text-sm">Fundamentación Teórica</span>
                    <h2 class="text-5xl md:text-6xl font-bold text-white">Marco Teórico</h2>
                </div>
                <div class="text-right mt-6 md:mt-0">
                    <span class="text-map-stream text-6xl font-bold opacity-30">Metodología</span>
                    <span class="block tracking-widest mt-2 text-map-stream text-sm">5 FUNDAMENTOS CLAVE</span>
                </div>
            </div>
            <div class="bg-map-accent/10 p-6 rounded-3xl border border-map-stream/20 mb-10">
                <p class="text-map-stream leading-relaxed text-lg">
                    Haz clic en cada módulo para explorar los fundamentos metodológicos que sustentan el modelado predictivo de calidad del agua.
                </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-5 gap-6">
                <button class="group p-8 rounded-2xl border-2 border-map-stream bg-gradient-to-r from-map-accent/20 to-map-accent/10 hover:from-map-stream/20 hover:to-map-stream/10 transition-all duration-300 transform hover:scale-105 min-h-[180px] flex flex-col items-center justify-center">
                    <span class="text-map-stream text-lg font-bold tracking-wider group-hover:text-white transition-colors text-center">CALIDAD DEL AGUA</span>
                    <span class="text-gray-400 text-xs mt-2 text-center">pH & DBO</span>
                </button>
                <button class="group p-8 rounded-2xl border-2 border-map-stream bg-gradient-to-r from-map-accent/20 to-map-accent/10 hover:from-map-stream/20 hover:to-map-stream/10 transition-all duration-300 transform hover:scale-105 min-h-[180px] flex flex-col items-center justify-center">
                    <span class="text-map-stream text-lg font-bold tracking-wider group-hover:text-white transition-colors text-center">ALGORITMOS ML</span>
                    <span class="text-gray-400 text-xs mt-2 text-center">6 Modelos</span>
                </button>
                <button class="group p-8 rounded-2xl border-2 border-map-stream bg-gradient-to-r from-map-accent/20 to-map-accent/10 hover:from-map-stream/20 hover:to-map-stream/10 transition-all duration-300 transform hover:scale-105 min-h-[180px] flex flex-col items-center justify-center">
                    <span class="text-map-stream text-lg font-bold tracking-wider group-hover:text-white transition-colors text-center">OPTIMIZACIÓN</span>
                    <span class="text-gray-400 text-xs mt-2 text-center">Parámetros</span>
                </button>
                <button class="group p-8 rounded-2xl border-2 border-map-stream bg-gradient-to-r from-map-accent/20 to-map-accent/10 hover:from-map-stream/20 hover:to-map-stream/10 transition-all duration-300 transform hover:scale-105 min-h-[180px] flex flex-col items-center justify-center">
                    <span class="text-map-stream text-lg font-bold tracking-wider group-hover:text-white transition-colors text-center">VALIDACIÓN</span>
                    <span class="text-gray-400 text-xs mt-2 text-center">Resultados</span>
                </button>
                <button class="group p-8 rounded-2xl border-2 border-map-stream bg-gradient-to-r from-map-accent/20 to-map-accent/10 hover:from-map-stream/20 hover:to-map-stream/10 transition-all duration-300 transform hover:scale-105 min-h-[180px] flex flex-col items-center justify-center">
                    <span class="text-map-stream text-lg font-bold tracking-wider group-hover:text-white transition-colors text-center">INTERPRETABILIDAD VS. EXPLICABILIDAD (XAI)</span>
                    <span class="text-gray-400 text-xs mt-2 text-center">PI, SHAP Y LC</span>
                </button>
            </div>
        </div>
    </div>

    <!-- 5. REVISIÓN DE LITERATURA -->
    <div class="slide">
        <div class="content-box">
            <div class="flex flex-col md:flex-row justify-between items-end mb-10 border-b border-map-stream border-opacity-30 pb-8">
                <div>
                    <span class="text-map-stream tracking-[0.4em] uppercase mb-3 block font-black text-sm">Estudios Representativos • Referencias</span>
                    <h2 class="text-5xl md:text-6xl font-bold text-white">Revisión de <span class="text-map-stream">Literatura</span></h2>
                </div>
                <div class="text-right mt-6 md:mt-0">
                    <span class="text-map-stream text-6xl font-bold opacity-30">TRAZABILIDAD</span>
                    <span class="block tracking-widest mt-2 text-map-stream text-sm">2 IDIOMAS · 6 ESTUDIOS</span>
                </div>
            </div>
            <div class="bg-map-accent/10 p-6 rounded-3xl border border-map-stream/20 mb-10">
                <p class="text-map-stream leading-relaxed text-lg">
                    Seleccione el idioma para ver los estudios representativos alineados con las variables objetivo <span class="text-white font-semibold">(pH / DBO / OD / WQI)</span>, modelos de ML y enfoques de interpretabilidad.
                </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <button id="btnLitES" class="group p-10 rounded-2xl border-2 border-map-stream bg-gradient-to-r from-map-accent/20 to-map-accent/10 hover:from-map-stream/20 hover:to-map-stream/10 transition-all duration-300 transform hover:scale-105 min-h-[200px] flex flex-col items-center justify-center">
                    <span class="text-map-stream text-2xl font-bold tracking-wider group-hover:text-white transition-colors text-center mb-3">REFERENCIAS</span>
                    <span class="text-white text-4xl font-black mb-3">ES</span>
                    <span class="text-map-stream text-sm tracking-widest uppercase">EN ESPAÑOL</span>
                    <span class="text-gray-400 text-xs mt-3">3 estudios representativos</span>
                </button>
                <button id="btnLitEN" class="group p-10 rounded-2xl border-2 border-map-stream bg-gradient-to-r from-map-accent/20 to-map-accent/10 hover:from-map-stream/20 hover:to-map-stream/10 transition-all duration-300 transform hover:scale-105 min-h-[200px] flex flex-col items-center justify-center">
                    <span class="text-map-stream text-2xl font-bold tracking-wider group-hover:text-white transition-colors text-center mb-3">REFERENCIAS</span>
                    <span class="text-white text-4xl font-black mb-3">EN</span>
                    <span class="text-map-stream text-sm tracking-widest uppercase">EN INGLÉS</span>
                    <span class="text-gray-400 text-xs mt-3">3 estudios representativos</span>
                </button>
            </div>
        </div>
    </div>

    <!-- 6. METODOLOGÍA -->
    <div class="slide">
        <div class="content-box">
            <div class="flex flex-col md:flex-row justify-between items-end mb-10 border-b border-map-stream border-opacity-30 pb-8">
                <div>
                    <span class="text-map-stream tracking-[0.4em] uppercase mb-3 block font-black text-sm">Enfoque Metodológico • Pipeline ML</span>
                    <h2 class="text-5xl md:text-6xl font-bold text-white">Metodo<span class="text-map-stream">logía</span></h2>
                    <span class="text-gray-400 text-lg mt-2 block">ML · pH &amp; DBO · Río Cauca</span>
                </div>
                <div class="text-right mt-6 md:mt-0">
                    <span class="text-map-stream text-6xl font-bold opacity-30">PIPELINE</span>
                    <span class="block tracking-widest mt-2 text-map-stream text-sm">5 ETAPAS · 1 FLUJO</span>
                </div>
            </div>
            <div class="bg-map-accent/10 p-6 rounded-3xl border border-map-stream/20 mb-10">
                <p class="text-map-stream leading-relaxed text-lg">
                    La metodología se estructura como un <span class="text-white font-semibold">pipeline secuencial</span> que integra control de calidad de datos, selección robusta de variables, comparación de modelos, optimización de hiperparámetros e interpretabilidad.
                </p>
            </div>
            <div class="flex justify-center">
                <button id="btnMetodologia" class="group p-10 rounded-2xl border-2 border-map-stream bg-gradient-to-r from-map-accent/20 to-map-accent/10 hover:from-map-stream/20 hover:to-map-stream/10 transition-all duration-300 transform hover:scale-105 min-h-[160px] flex flex-col items-center justify-center w-full max-w-xl">
                    <span class="text-map-stream text-2xl font-bold tracking-wider group-hover:text-white transition-colors text-center mb-3">PIPELINE DE MODELADO PREDICTIVO</span>
                    <span class="text-gray-400 text-sm tracking-widest uppercase">Ver detalle completo</span>
                </button>
            </div>
        </div>
    </div>

    <!-- 7. ESCENARIOS DE SELECCIÓN DE VARIABLES -->
    <div class="slide">
        <div class="content-box">

            <!-- Cabecera -->
            <div class="flex flex-col md:flex-row justify-between items-end mb-8 border-b border-map-stream border-opacity-30 pb-6">
                <div>
                    <span class="text-map-stream tracking-[0.4em] uppercase text-xs mb-2 block font-black">Resultados y Análisis</span>
                    <h2 class="text-4xl md:text-5xl font-bold text-white leading-tight">Escenarios de <span class="text-map-stream">Selección de Variables</span></h2>
                </div>
                <div class="text-right mt-4 md:mt-0">
                    <span class="text-map-stream text-5xl font-bold opacity-30">Variables</span>
                    <span class="text-map-stream block text-sm tracking-widest mt-1">SELECCIÓN</span>
                </div>
            </div>

            <!-- Intro -->
            <div class="mb-6">
                <p class="text-gray-300 text-base leading-relaxed italic border-l-2 border-map-stream/50 pl-5">
                    Se compararon <span class="text-white font-bold">4 escenarios</span> de variables (VIF y RFE por objetivo) para evaluar su impacto en la predicción de <span class="text-white font-bold">pH</span> y <span class="text-white font-bold">DBO</span>.
                </p>
            </div>

            <!-- Contenido: tabla + leyenda -->
            <div class="grid grid-cols-1 md:grid-cols-12 gap-6 items-start">

                <!-- TABLA -->
                <div class="md:col-span-9 p-5 rounded-2xl border border-map-stream/20" style="background: linear-gradient(180deg, rgba(100,255,218,0.03), rgba(0,0,0,0.20));">
                    <div class="flex items-center justify-between mb-3">
                        <p class="text-map-stream text-[10px] uppercase tracking-widest font-black">Matriz completa (variable × escenario)</p>
                        <p class="text-gray-400 text-[11px] italic">Celdas coloreadas = variable incluida</p>
                    </div>
                    <div class="rounded-xl border border-map-stream/10 p-3 overflow-auto" style="max-height: 300px; background: rgba(0,0,0,0.30);">
                        <table class="w-full border-collapse text-[13px]">
                            <thead>
                                <tr class="text-gray-300 border-b border-map-stream/20">
                                    <th class="text-left py-2 pr-3 font-semibold">Variable</th>
                                    <th class="text-center py-2 px-2 font-semibold">VIF</th>
                                    <th class="text-center py-2 px-2 font-semibold">RFE DBO</th>
                                    <th class="text-center py-2 px-2 font-semibold">RFE pH</th>
                                    <th class="text-center py-2 px-2 font-semibold">RFE DBO ∪ pH</th>
                                </tr>
                            </thead>
                            <tbody class="text-gray-200">
                                <tr class="border-b border-white/5"><td class="py-2 pr-3">CALCIO (mg Ca/l)</td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#1d4ed8]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#16a34a]"></div></td></tr>
                                <tr class="border-b border-white/5"><td class="py-2 pr-3">MAGNESIO (mg Mg/l)</td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#1d4ed8]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#16a34a]"></div></td></tr>
                                <tr class="border-b border-white/5"><td class="py-2 pr-3">SÓLIDOS TOTALES (mg SST/l)</td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#1d4ed8]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#16a34a]"></div></td></tr>
                                <tr class="border-b border-white/5"><td class="py-2 pr-3">TURBIEDAD (UNT)</td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#1d4ed8]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#16a34a]"></div></td></tr>
                                <tr class="border-b border-white/5"><td class="py-2 pr-3">HIERRO TOTAL (mg Fe/l)</td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#1d4ed8]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#16a34a]"></div></td></tr>
                                <tr class="border-b border-white/5"><td class="py-2 pr-3">CONDUCTIVIDAD ELÉCTRICA (µS/cm)</td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#7c3aed]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#16a34a]"></div></td></tr>
                                <tr class="border-b border-white/5"><td class="py-2 pr-3">SULFATOS (mg SO4/l)</td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#7c3aed]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#16a34a]"></div></td></tr>
                                <tr class="border-b border-white/5"><td class="py-2 pr-3">DEMANDA BIOQUÍMICA DE OXÍGENO (mg O2/l)</td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td></tr>
                                <tr class="border-b border-white/5"><td class="py-2 pr-3">BICARBONATOS (mg CaCO3/l)</td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#7c3aed]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#16a34a]"></div></td></tr>
                                <tr class="border-b border-white/5"><td class="py-2 pr-3">DUREZA TOTAL (mg CaCO3/l)</td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td></tr>
                                <tr class="border-b border-white/5"><td class="py-2 pr-3">OXÍGENO DISUELTO (mg O2/l)</td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td></tr>
                                <tr class="border-b border-white/5"><td class="py-2 pr-3">SÓLIDOS DISUELTOS (mg SD/l)</td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td></tr>
                                <tr class="border-b border-white/5"><td class="py-2 pr-3">POTASIO TOTAL (mg K/l)</td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#7c3aed]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#16a34a]"></div></td></tr>
                                <tr class="border-b border-white/5"><td class="py-2 pr-3">COLOR (UPC)</td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td></tr>
                                <tr class="border-b border-white/5"><td class="py-2 pr-3">SODIO TOTAL (mg Na/l)</td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td></tr>
                                <tr class="border-b border-white/5"><td class="py-2 pr-3">DEMANDA QUÍMICA DE OXÍGENO (mg O2/l)</td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td></tr>
                                <tr class="border-b border-white/5"><td class="py-2 pr-3">TEMPERATURA (°C)</td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#7c3aed]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#16a34a]"></div></td></tr>
                                <tr class="border-b border-white/5"><td class="py-2 pr-3">CLORUROS (mg Cl/l)</td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td></tr>
                                <tr class="border-b border-white/5"><td class="py-2 pr-3">COLIFORMES FECALES (NMP/100 ml)</td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td></tr>
                                <tr class="border-b border-white/5"><td class="py-2 pr-3">NITRATOS (mg N-NO3/l)</td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td></tr>
                                <tr><td class="py-2 pr-3"><span class="text-white font-semibold">pH</span> <span class="text-map-stream text-[10px]">(objetivo)</span></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm bg-[#64FFDA]"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td><td class="py-2 px-2"><div class="mx-auto w-4 h-4 rounded-sm border border-white/10"></div></td></tr>
                            </tbody>
                        </table>
                    </div>
                    <p class="text-gray-400 text-[11px] italic mt-3">Nota: pH se presenta como variable objetivo; las celdas representan variables predictoras incluidas por escenario.</p>
                </div>

                <!-- LEYENDA -->
                <div class="md:col-span-3">
                    <div class="bg-map-stream/5 p-5 rounded-2xl border border-map-stream/15">
                        <h3 class="text-map-stream font-black uppercase tracking-widest text-xs mb-4">Escenarios</h3>
                        <div class="space-y-3 text-gray-200 text-sm">
                            <div class="flex items-center gap-3"><div class="w-4 h-4 rounded-sm bg-[#64FFDA] flex-none"></div><span>VIF</span></div>
                            <div class="flex items-center gap-3"><div class="w-4 h-4 rounded-sm bg-[#1d4ed8] flex-none"></div><span>RFE DBO</span></div>
                            <div class="flex items-center gap-3"><div class="w-4 h-4 rounded-sm bg-[#7c3aed] flex-none"></div><span>RFE pH</span></div>
                            <div class="flex items-center gap-3"><div class="w-4 h-4 rounded-sm bg-[#16a34a] flex-none"></div><span>RFE DBO ∪ pH</span></div>
                        </div>
                        <div class="mt-5 text-gray-400 text-xs leading-relaxed">
                            <span class="text-white font-semibold">Lectura:</span> cada fila es una variable; cada columna indica si fue incluida en el escenario correspondiente.
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- 8. RESULTADOS DE MODELACIÓN -->
    <div class="slide">
        <div class="content-box">
            <div class="flex flex-col md:flex-row justify-between items-end mb-10 border-b border-map-stream border-opacity-30 pb-8">
                <div>
                    <span class="text-map-stream tracking-[0.4em] uppercase mb-3 block font-black text-sm">Análisis Profundo</span>
                    <h2 class="text-5xl md:text-6xl font-bold text-white">Resultados de <span class="text-map-stream">Modelación</span></h2>
                </div>
                <div class="text-right mt-6 md:mt-0">
                    <span class="text-map-stream text-6xl font-bold opacity-30">Modelos</span>
                    <span class="block tracking-widest mt-2 text-map-stream text-sm">RENDIMIENTO</span>
                </div>
            </div>
            <div class="mb-10">
                <p class="text-gray-300 text-base leading-relaxed">
                    Visualización detallada del rendimiento predictivo de los modelos para <span class="text-white font-bold">DBO</span> y <span class="text-white font-bold">pH</span>, incluyendo métricas de evaluación, importancia de variables, curvas de aprendizaje y análisis SHAP.
                </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                <button id="btnResultadosDBO" class="group p-10 rounded-3xl border-2 border-map-stream bg-gradient-to-br from-map-accent/40 to-map-accent/20 hover:from-map-stream/20 hover:to-map-stream/10 transition-all duration-500 transform hover:-translate-y-2 flex flex-col items-center justify-center min-h-[200px]">
                    <div class="text-map-stream mb-5 group-hover:text-white transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                            <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                            <line x1="12" y1="22.08" x2="12" y2="12"></line>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold text-white group-hover:text-map-stream transition-colors mb-2">Análisis Detallado DBO</h3>
                    <p class="text-gray-400 text-sm leading-relaxed text-center">Métricas de rendimiento, importancia de variables, curvas de aprendizaje y análisis SHAP para DBO</p>
                </button>
                <button id="btnResultadosPH" class="group p-10 rounded-3xl border-2 border-map-stream bg-gradient-to-br from-map-accent/40 to-map-accent/20 hover:from-map-stream/20 hover:to-map-stream/10 transition-all duration-500 transform hover:-translate-y-2 flex flex-col items-center justify-center min-h-[200px]">
                    <div class="text-map-stream mb-5 group-hover:text-white transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="16"></line>
                            <line x1="8" y1="12" x2="16" y2="12"></line>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold text-white group-hover:text-map-stream transition-colors mb-2">Análisis Detallado pH</h3>
                    <p class="text-gray-400 text-sm leading-relaxed text-center">Métricas de rendimiento, importancia de variables, curvas de aprendizaje y análisis SHAP para pH</p>
                </button>
            </div>
        </div>
    </div>

    <!-- 9. DISCUSIÓN -->
    <div class="slide">
        <div class="content-box">
            <h2 class="text-4xl font-bold mb-12">Discusión: <span class="text-map-stream">El Nexo</span></h2>
            <p class="text-2xl font-light mb-8 leading-relaxed">
                El sedimento no es basura; es la <span class="text-map-stream">memoria geológica</span> del río que estamos ignorando en los planes de ordenamiento territorial.
            </p>
            <div class="h-1 w-20 bg-map-stream"></div>
        </div>
    </div>

    <!-- 10. PROPUESTA -->
    <div class="slide">
        <div class="content-box">
            <h2 class="text-4xl font-bold mb-8">Estrategia de <span class="text-map-stream">Resiliencia</span></h2>
            <div class="grid grid-cols-2 gap-4">
                <div class="p-4 bg-white/5">Defensa de Riberas Bio-Ingeniería</div>
                <div class="p-4 bg-white/5">Monitoreo IoT en Tiempo Real</div>
                <div class="p-4 bg-white/5">Comités de Cuenca Participativos</div>
                <div class="p-4 bg-white/5">Dragado Selectivo Circular</div>
            </div>
        </div>
    </div>

    <!-- 11. CONCLUSIÓN -->
    <div class="slide">
        <div class="content-box">
            <h2 class="text-4xl font-bold mb-12 italic">Síntesis Final</h2>
            <div class="space-y-6">
                <div class="flex items-center space-x-4">
                    <div class="w-2 h-2 bg-map-stream rotate-45"></div>
                    <p class="text-lg">Necesidad de una gestión <span class="text-white font-bold">Adaptativa</span>.</p>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="w-2 h-2 bg-map-stream rotate-45"></div>
                    <p class="text-lg">El río como <span class="text-white font-bold">sujeto de derechos</span> y flujos bióticos.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 12. CIERRE -->
    <div class="slide">
        <div class="content-box text-center">
            <h1 class="text-5xl font-bold text-map-stream mb-4 uppercase tracking-[0.3em]">Sesión Finalizada</h1>
            <p class="text-gray-400 mb-12">Gracias por su atención en este recorrido cartográfico.</p>
            <div class="flex justify-center space-x-12 opacity-50 text-[10px] tracking-widest">
                <span>PHD DEFENSE</span>
                <span>•</span>
                <span>2024</span>
            </div>
        </div>
    </div>

    <!-- MODALES DEL MARCO TEÓRICO (al nivel del body para z-index correcto) -->
    <!-- MODAL MÓDULO 1: CALIDAD DEL AGUA -->
    <div id="modalModulo1" class="modal-overlay fixed inset-0 flex items-center justify-center z-[9999] hidden" style="background-color: rgba(10, 25, 47, 0.97);">
        <div class="modal-content bg-map-accent border border-map-stream rounded-xl p-8 max-w-5xl w-full relative" style="max-width: 80rem;">
            <button id="closeModalModulo1" class="absolute top-4 right-4 text-map-stream text-xl font-bold">&times;</button>
            <h2 class="modal-title text-map-stream text-2xl font-bold mb-4">Calidad del Agua: pH & DBO</h2>
            <p class="text-gray-300 text-lg mb-8 font-light border-l-4 border-map-stream pl-6 italic">
                El río Cauca es la segunda arteria fluvial más importante de Colombia, cuya cuenca alta es vital para el desarrollo socioeconómico de los departamentos de Cauca, Valle del Cauca y Risaralda.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
                <div class="p-6 rounded-3xl border border-map-stream/20 bg-map-accent">
                    <h3 class="text-map-stream text-xs uppercase tracking-[0.2em] font-black mb-4">Contexto Fluvial</h3>
                    <h4 class="text-white text-xl font-bold mb-3">Segunda Arteria del País</h4>
                    <p class="text-gray-400 text-sm leading-relaxed">
                        Su calidad se define mediante parámetros fisicoquímicos y biológicos que indican la aptitud del agua para diversos usos y la salud del ecosistema <span class="text-map-stream font-semibold">[4]</span>.
                    </p>
                </div>
                <div class="p-6 rounded-3xl border border-map-stream/20 bg-map-stream">
                    <h3 class="text-map-stream text-xs uppercase tracking-[0.2em] font-black mb-4">Parámetro 01</h3>
                    <h4 class="text-white text-xl font-bold mb-3">Potencial de Hidrógeno (pH)</h4>
                    <p class="text-gray-400 text-sm leading-relaxed">
                        Medida de acidez o alcalinidad. Es crítico para la supervivencia acuática; variaciones extremas afectan la solubilidad de nutrientes y la toxicidad de metales <span class="text-map-stream font-semibold">[5]</span>.
                    </p>
                </div>
                <div class="p-6 rounded-3xl border border-map-stream/20 bg-map-accent">
                    <h3 class="text-map-stream text-xs uppercase tracking-[0.2em] font-black mb-4">Parámetro 02</h3>
                    <h4 class="text-white text-xl font-bold mb-3">Demanda Bioquímica (DBO)</h4>
                    <p class="text-gray-400 text-sm leading-relaxed">
                        Indica la cantidad de oxígeno consumido por microorganismos para degradar materia orgánica. Niveles altos sugieren una fuerte contaminación orgánica <span class="text-map-stream font-semibold">[6]</span>.
                    </p>
                </div>
            </div>
            <div class="mt-8 text-center opacity-50">
                <span class="text-xs uppercase tracking-widest text-gray-400">Valores de referencia: pH [6.5 - 8.5]</span>
            </div>
        </div>
    </div>
    <!-- MODAL MÓDULO 2: ALGORITMOS ML -->
    <div id="modalModulo2" class="modal-overlay fixed inset-0 flex items-center justify-center z-[9999] hidden" style="background-color: rgba(10, 25, 47, 0.97);">
        <div class="modal-content bg-map-accent border border-map-stream rounded-xl p-8 max-w-5xl w-full relative" style="max-width: 80rem;">
            <button id="closeModalModulo2" class="absolute top-4 right-4 text-map-stream text-xl font-bold">&times;</button>
            <h2 class="modal-title text-map-stream text-2xl font-bold mb-4">Algoritmos Evaluados</h2>
            <div class="text-center mb-8">
                <p class="text-map-stream text-sm uppercase tracking-[0.4em] font-black mb-1">Modelos Predictivos</p>
                <p class="text-gray-400 text-xs uppercase tracking-[0.3em] mb-1">Regresión</p>
                <p class="text-gray-500 text-xs uppercase tracking-[0.2em]">SISTEMAS AMBIENTALES</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="p-5 rounded-3xl border border-map-stream/20 bg-map-accent">
                    <div class="flex items-center gap-2 mb-3">
                        <span class="text-map-stream text-xs font-black">01.</span>
                        <span class="text-map-stream text-xs uppercase tracking-[0.3em] font-black">Baseline [7]</span>
                    </div>
                    <h3 class="text-white text-lg font-bold mb-2">Regresión Lineal</h3>
                    <p class="text-gray-400 text-xs leading-relaxed mb-3 italic">Este modelo busca una relación recta entre los datos. Es simple y fácil de entender, pero no detecta patrones complejos.</p>
                    <div class="space-y-2 text-sm">
                        <p class="text-green-400 leading-relaxed">✓ Alta interpretabilidad.</p>
                        <p class="text-red-400 leading-relaxed">✗ No captura no linealidades.</p>
                    </div>
                </div>
                <div class="p-5 rounded-3xl border border-map-stream/20 bg-map-stream">
                    <div class="flex items-center gap-2 mb-3">
                        <span class="text-map-stream text-xs font-black">02.</span>
                        <span class="text-map-stream text-xs uppercase tracking-[0.3em] font-black">Árbol [8]</span>
                    </div>
                    <h3 class="text-white text-lg font-bold mb-2">Árbol de Decisión</h3>
                    <p class="text-gray-400 text-xs leading-relaxed mb-3 italic">Este modelo divide los datos en ramas, como un árbol, para tomar decisiones. Es claro y visual, pero puede equivocarse si hay demasiadas divisiones.</p>
                    <div class="space-y-2 text-sm">
                        <p class="text-green-400 leading-relaxed">✓ Fácil de explicar/mapear.</p>
                        <p class="text-red-400 leading-relaxed">✗ Tendencia al sobreajuste.</p>
                    </div>
                </div>
                <div class="p-5 rounded-3xl border border-map-stream/20 bg-map-accent">
                    <div class="flex items-center gap-2 mb-3">
                        <span class="text-map-stream text-xs font-black">03.</span>
                        <span class="text-map-stream text-xs uppercase tracking-[0.3em] font-black">Ensemble [9]</span>
                    </div>
                    <h3 class="text-white text-lg font-bold mb-2">Random Forest</h3>
                    <p class="text-gray-400 text-xs leading-relaxed mb-3 italic">Este método combina muchos árboles para tomar una decisión más estable. Es preciso, pero puede ser difícil de entender cómo llega al resultado.</p>
                    <div class="space-y-2 text-sm">
                        <p class="text-green-400 leading-relaxed">✓ Precisión + Estabilidad.</p>
                        <p class="text-red-400 leading-relaxed">✗ Menor interpretabilidad.</p>
                    </div>
                </div>
                <div class="p-5 rounded-3xl border border-map-stream/20 bg-map-stream">
                    <div class="flex items-center gap-2 mb-3">
                        <span class="text-map-stream text-xs font-black">04.</span>
                        <span class="text-map-stream text-xs uppercase tracking-[0.3em] font-black">Kernel [10]</span>
                    </div>
                    <h3 class="text-white text-lg font-bold mb-2">SVR (Support Vector)</h3>
                    <p class="text-gray-400 text-xs leading-relaxed mb-3 italic">Este modelo transforma los datos para encontrar patrones ocultos. Es útil para relaciones complejas, pero requiere ajustes cuidadosos.</p>
                    <div class="space-y-2 text-sm">
                        <p class="text-green-400 leading-relaxed">✓ Capta alta dimensionalidad.</p>
                        <p class="text-red-400 leading-relaxed">✗ Tuning de Kernel delicado.</p>
                    </div>
                </div>
                <div class="p-5 rounded-3xl border border-map-stream/20 bg-map-accent">
                    <div class="flex items-center gap-2 mb-3">
                        <span class="text-map-stream text-xs font-black">05.</span>
                        <span class="text-map-stream text-xs uppercase tracking-[0.3em] font-black">Red Neuronal [11]</span>
                    </div>
                    <h3 class="text-white text-lg font-bold mb-2">MLP (Perceptrón)</h3>
                    <p class="text-gray-400 text-xs leading-relaxed mb-3 italic">Este modelo usa capas de conexiones para aprender patrones complejos. Es flexible y potente, pero necesita muchos datos para funcionar bien.</p>
                    <div class="space-y-2 text-sm">
                        <p class="text-green-400 leading-relaxed">✓ Máxima flexibilidad.</p>
                        <p class="text-red-400 leading-relaxed">✗ Requiere alto volumen de datos.</p>
                    </div>
                </div>
                <div class="p-5 rounded-3xl border border-map-stream/20 bg-map-stream">
                    <div class="flex items-center gap-2 mb-3">
                        <span class="text-map-stream text-xs font-black">06.</span>
                        <span class="text-map-stream text-xs uppercase tracking-[0.3em] font-black">Boosting [12]</span>
                    </div>
                    <h3 class="text-white text-lg font-bold mb-2">XGBoost</h3>
                    <p class="text-gray-400 text-xs leading-relaxed mb-3 italic">Este método mejora el resultado corrigiendo errores paso a paso. Es muy eficiente para datos de tablas, pero puede ser sensible al ruido.</p>
                    <div class="space-y-2 text-sm">
                        <p class="text-green-400 leading-relaxed">✓ Rendimiento tabular líder.</p>
                        <p class="text-red-400 leading-relaxed">✗ Propenso a ruido si no se ajusta.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- MODAL MÓDULO 3: OPTIMIZACIÓN -->
    <div id="modalModulo3" class="modal-overlay fixed inset-0 flex items-center justify-center z-[9999] hidden" style="background-color: rgba(10, 25, 47, 0.97);">
        <div class="modal-content bg-map-accent border border-map-stream rounded-xl p-8 max-w-5xl w-full relative" style="max-width: 80rem;">
            <button id="closeModalModulo3" class="absolute top-4 right-4 text-map-stream text-xl font-bold">&times;</button>
            <h2 class="modal-title text-map-stream text-2xl font-bold mb-4">Optimización de Hiperparámetros</h2>
            <div class="bg-map-accent p-5 rounded-3xl border border-map-stream/20 mb-8">
                <p class="text-gray-300 text-base leading-relaxed">
                    El objetivo es encontrar la combinación óptima que maximice el desempeño del modelo (por ejemplo, minimizar RMSE/MAE o maximizar R²), bajo validación cruzada para evitar el sobreajuste.
                </p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="p-6 rounded-3xl border border-map-stream/20 bg-map-accent">
                    <div class="flex items-center justify-between mb-4">
                        <span class="text-map-stream text-sm uppercase tracking-[0.3em] font-black">Grid Search [13]</span>
                        <span class="text-map-stream font-serif italic text-2xl">Exhaustiva</span>
                    </div>
                    <h3 class="text-white text-2xl font-bold mb-4">Búsqueda Exhaustiva</h3>
                    <p class="text-gray-300 leading-relaxed mb-4">
                        Este método prueba todas las opciones posibles, como si se revisara cada casilla de una lista, para encontrar la mejor combinación. Es útil cuando hay pocas alternativas y se quiere estar seguro del resultado.
                    </p>
                    <ul class="text-gray-300 text-sm leading-relaxed list-disc pl-5 space-y-2">
                        <li><span class="text-map-stream font-semibold">param_grid:</span> Diccionario de valores</li>
                        <li><span class="text-map-stream font-semibold">cv:</span> Particiones de validación</li>
                        <li><span class="text-map-stream font-semibold">refit:</span> Reentrenamiento final</li>
                    </ul>
                </div>
                <div class="p-6 rounded-3xl border border-map-stream/20 bg-map-stream">
                    <div class="flex items-center justify-between mb-4">
                        <span class="text-map-stream text-sm uppercase tracking-[0.3em] font-black">Optuna [13]</span>
                        <span class="text-map-stream font-serif italic text-2xl">Adaptativa</span>
                    </div>
                    <h3 class="text-white text-2xl font-bold mb-4">Búsqueda Bayesiana</h3>
                    <p class="text-gray-300 leading-relaxed mb-4">
                        Este método busca la mejor opción de manera inteligente, probando primero las alternativas más prometedoras y descartando rápido las que no funcionan. Es ideal cuando hay muchas posibilidades y se quiere ahorrar tiempo y recursos.
                    </p>
                    <ul class="text-gray-300 text-sm leading-relaxed list-disc pl-5 space-y-2">
                        <li><span class="text-map-stream font-semibold">sampler:</span> Estrategia (por ejemplo TPE)</li>
                        <li><span class="text-map-stream font-semibold">pruner:</span> Poda temprana de ensayos</li>
                        <li><span class="text-map-stream font-semibold">n_trials:</span> Número de iteraciones</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- MODAL MÓDULO 4: VALIDACIÓN -->
    <div id="modalModulo4" class="modal-overlay fixed inset-0 flex items-center justify-center z-[9999] hidden" style="background-color: rgba(10, 25, 47, 0.97);">
        <div class="modal-content bg-map-accent border border-map-stream rounded-xl p-8 max-w-5xl w-full relative" style="max-width: 80rem;">
            <button id="closeModalModulo4" class="absolute top-4 right-4 text-map-stream text-xl font-bold">&times;</button>
            <h2 class="modal-title text-map-stream text-2xl font-bold mb-4">Métricas de Validación Estadística</h2>
            <div class="bg-map-accent p-5 rounded-3xl border border-map-stream/20 mb-8">
                <p class="text-gray-300 text-base leading-relaxed">
                    La calidad predictiva se determina comparando los valores observados con las predicciones. Al tratar con pH y DBO, se evalúa qué tan bien el modelo estima valores continuos.
                </p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                <div class="p-6 rounded-3xl border border-map-stream/20 bg-map-accent">
                    <div class="flex items-center justify-between mb-3">
                        <span class="text-map-stream text-sm uppercase tracking-[0.3em] font-black">RMSE [14]</span>
                        <span class="text-map-stream font-serif italic text-2xl">√MSE</span>
                    </div>
                    <h3 class="text-white text-xl font-bold mb-3">Raíz del Error Cuadrático</h3>
                    <div class="bg-black/30 p-3 rounded-xl mb-3 text-center">
                        <p class="text-gray-200 text-base font-mono">RMSE = √(1/n Σ(yi-ŷi)²)</p>
                    </div>
                    <p class="text-gray-300 leading-relaxed text-sm">
                        Este indicador muestra cuánto se alejan las predicciones del modelo respecto a los valores reales, usando la misma escala que la variable. Un RMSE bajo significa que el modelo se equivoca poco.
                    </p>
                </div>
                <div class="p-6 rounded-3xl border border-map-stream/20 bg-map-stream">
                    <div class="flex items-center justify-between mb-3">
                        <span class="text-map-stream text-sm uppercase tracking-[0.3em] font-black">R² [14]</span>
                        <span class="text-map-stream font-serif italic text-2xl">Ajuste</span>
                    </div>
                    <h3 class="text-white text-xl font-bold mb-3">Coeficiente de Determinación</h3>
                    <div class="bg-black/30 p-3 rounded-xl mb-3 text-center">
                        <p class="text-gray-200 text-base font-mono">R² = 1 - Σ(yi-ŷi)² / Σ(yi-ȳ)²</p>
                    </div>
                    <p class="text-gray-300 leading-relaxed text-sm">
                        Este indicador muestra qué parte de la variación de los datos es explicada por el modelo. Un valor cercano a 1 significa que el modelo representa muy bien los datos.
                    </p>
                </div>
                <div class="p-6 rounded-3xl border border-map-stream/20 bg-map-accent">
                    <div class="flex items-center justify-between mb-3">
                        <span class="text-map-stream text-sm uppercase tracking-[0.3em] font-black">MAE [14]</span>
                        <span class="text-map-stream font-serif italic text-2xl">|Error|</span>
                    </div>
                    <h3 class="text-white text-xl font-bold mb-3">Error Absoluto Medio</h3>
                    <div class="bg-black/30 p-3 rounded-xl mb-3 text-center">
                        <p class="text-gray-200 text-base font-mono">MAE = 1/n Σ|yi-ŷi|</p>
                    </div>
                    <p class="text-gray-300 leading-relaxed text-sm">
                        Este indicador muestra, en promedio, cuánto se desvían las predicciones del modelo respecto a los valores reales, sin importar si el error es hacia arriba o hacia abajo. Es como medir la distancia promedio entre lo que se espera y lo que realmente ocurre, y ayuda a saber si el modelo suele acertar o fallar mucho.
                    </p>
                </div>
            </div>
            <p class="text-gray-300 text-sm leading-relaxed italic text-center mt-6">
                En este estudio, las métricas se analizan de forma conjunta para evitar conclusiones sesgadas y detectar posibles problemas de sobreajuste o subajuste.
            </p>
        </div>
    </div>
    <!-- MODAL MÓDULO 5: EXPLICABILIDAD XAI -->
    <div id="modalModulo5" class="modal-overlay fixed inset-0 flex items-center justify-center z-[9999] hidden" style="background-color: rgba(10, 25, 47, 0.97);">
        <div class="modal-content bg-map-accent border border-map-stream rounded-xl p-8 max-w-5xl w-full relative" style="max-width: 80rem;">
            <button id="closeModalModulo5" class="absolute top-4 right-4 text-map-stream text-xl font-bold">&times;</button>
            <h2 class="modal-title text-map-stream text-2xl font-bold mb-4">INTERPRETABILIDAD VS. EXPLICABILIDAD (XAI)</h2>
            <div class="bg-map-accent p-5 rounded-3xl border border-map-stream/20 mb-8">
                <p class="text-gray-300 text-base leading-relaxed">
                    La interpretabilidad transforma los modelos de <span class="text-white font-semibold">"caja negra"</span> en herramientas explicables, permitiendo entender no solo <em>qué</em> predice el modelo, sino <em>por qué</em> lo predice.
                </p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                <div class="p-6 rounded-3xl border border-map-stream/20 bg-map-accent">
                    <div class="flex items-center justify-between mb-3">
                        <span class="text-map-stream text-sm uppercase tracking-[0.3em] font-black">Permutation Importance [15]</span>
                        <span class="text-map-stream font-serif italic text-2xl">PI</span>
                    </div>
                    <h3 class="text-white text-xl font-bold mb-2">¿Cuál variable importa más?</h3>
                    <div class="bg-black/30 p-3 rounded-xl mb-3 text-center">
                        <p class="text-gray-200 text-sm font-mono">PI(Xⱼ) = Perf(D) − Perf(D<sub>perm(j)</sub>)</p>
                    </div>
                    <p class="text-gray-400 text-xs leading-relaxed mb-3 italic">Como sacar a un jugador del partido y ver cuánto baja el marcador: si el equipo pierde mucho sin él, ese jugador era clave. PI hace lo mismo con cada variable del modelo.</p>
                    <ul class="text-gray-300 text-xs leading-relaxed space-y-1">
                        <li class="flex items-start gap-2"><span class="text-map-stream mt-0.5">▸</span> <span><span class="text-white font-semibold">Model-agnostic:</span> funciona con cualquier algoritmo.</span></li>
                        <li class="flex items-start gap-2"><span class="text-map-stream mt-0.5">▸</span> Mide la caída del RMSE / R² al desordenar cada variable.</li>
                    </ul>
                </div>
                <div class="p-6 rounded-3xl border border-map-stream/20 bg-map-stream">
                    <div class="flex items-center justify-between mb-3">
                        <span class="text-map-stream text-sm uppercase tracking-[0.3em] font-black">SHAP [16]</span>
                        <span class="text-map-stream font-serif italic text-2xl">Shapley</span>
                    </div>
                    <h3 class="text-white text-xl font-bold mb-2">¿Por qué predijo ESO?</h3>
                    <div class="bg-black/30 p-3 rounded-xl mb-3 text-center">
                        <p class="text-gray-200 text-sm font-mono">f(x) = φ₀ + Σⱼ₌₁ᴹ φⱼ</p>
                    </div>
                    <p class="text-gray-400 text-xs leading-relaxed mb-3 italic">Como un árbitro justo que reparte el crédito del resultado entre todos los jugadores del equipo. SHAP le asigna a cada variable su cuota exacta de responsabilidad en cada predicción.</p>
                    <ul class="text-gray-300 text-xs leading-relaxed space-y-1">
                        <li class="flex items-start gap-2"><span class="text-map-stream mt-0.5">▸</span> Explica caso por caso <span class="text-white font-semibold">(local)</span> y en conjunto <span class="text-white font-semibold">(global)</span>.</li>
                        <li class="flex items-start gap-2"><span class="text-map-stream mt-0.5">▸</span> Basado en Teoría de Juegos: matemáticamente sólido.</li>
                    </ul>
                </div>
                <div class="p-6 rounded-3xl border border-map-stream/20 bg-map-accent">
                    <div class="flex items-center justify-between mb-3">
                        <span class="text-map-stream text-sm uppercase tracking-[0.3em] font-black">Curvas de Aprendizaje [17]</span>
                        <span class="text-map-stream font-serif italic text-2xl">LC</span>
                    </div>
                    <h3 class="text-white text-xl font-bold mb-2">¿Aprendió bien o memorizó?</h3>
                    <div class="bg-black/30 p-3 rounded-xl mb-3 text-center">
                        <p class="text-gray-200 text-sm font-mono">Score<sub>train</sub> vs Score<sub>val</sub></p>
                    </div>
                    <p class="text-gray-400 text-xs leading-relaxed mb-3 italic">Como comparar las notas de un estudiante en clase con las del examen final: si en clase saca 10 pero en el examen saca 3, memorizó sin entender. El modelo puede hacer lo mismo.</p>
                    <ul class="text-gray-300 text-xs leading-relaxed space-y-1">
                        <li class="flex items-start gap-2"><span class="text-map-stream mt-0.5">▸</span> <span class="text-white font-semibold">Overfitting:</span> aprende de memoria, falla con datos nuevos.</li>
                        <li class="flex items-start gap-2"><span class="text-map-stream mt-0.5">▸</span> Indica si se necesitan más datos o ajuste del modelo.</li>
                    </ul>
                </div>
            </div>
            <p class="text-gray-300 text-sm leading-relaxed italic text-center mt-6 border-t border-map-stream/20 pt-6">
                "La combinación de métricas predictivas con técnicas de interpretabilidad transforma el modelo en una herramienta confiable y útil para la toma de decisiones ambientales fundamentadas en el Río Cauca."
            </p>
        </div>
    </div>

    <!-- MODALES REVISIÓN DE LITERATURA (diapositiva 5) -->
    <!-- MODAL ESPAÑOL -->
    <div id="modalLitES" class="modal-overlay fixed inset-0 flex items-center justify-center z-[9999] hidden" style="background-color: rgba(10, 25, 47, 0.97);">
        <div class="modal-content bg-map-accent border border-map-stream rounded-xl p-8 max-w-5xl w-full relative" style="max-width: 80rem;">
            <button id="closeModalLitES" class="absolute top-4 right-4 text-map-stream text-xl font-bold">&times;</button>
            <h2 class="modal-title text-map-stream text-2xl font-bold mb-1">Revisión de Literatura: Estudios en Español</h2>
            <p class="text-gray-400 text-sm mb-5 border-l-4 border-map-stream pl-4 italic">Selección mínima para trazabilidad bibliográfica. Estudios alineados con las variables objetivo (pH / DBO / OD / WQI), modelos de aprendizaje automático y enfoques de interpretabilidad (SHAP).</p>
            <div class="overflow-x-auto rounded-xl border border-map-stream/20">
                <table class="w-full text-xs border-collapse">
                    <thead>
                        <tr class="bg-map-stream/10 border-b border-map-stream/30">
                            <th class="text-map-stream font-black uppercase tracking-wider px-3 py-3 text-center w-12">DOC</th>
                            <th class="text-map-stream font-black uppercase tracking-wider px-3 py-3 text-left">DOCUMENTO</th>
                            <th class="text-map-stream font-black uppercase tracking-wider px-3 py-3 text-left">AUTORES (Año)</th>
                            <th class="text-map-stream font-black uppercase tracking-wider px-3 py-3 text-center">VARIABLES OBJETIVO</th>
                            <th class="text-map-stream font-black uppercase tracking-wider px-3 py-3 text-left">MODELOS</th>
                            <th class="text-map-stream font-black uppercase tracking-wider px-3 py-3 text-left">MÉTRICAS / MEJOR RENDIMIENTO</th>
                            <th class="text-map-stream font-black uppercase tracking-wider px-3 py-3 text-left">APORTE PARA EL PRESENTE ESTUDIO</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="border-b border-map-stream/10 hover:bg-map-stream/5 transition-colors">
                            <td class="px-3 py-4 text-center"><span class="text-map-stream font-bold text-sm">[4]</span></td>
                            <td class="px-3 py-4 text-white font-medium leading-snug max-w-[180px]">Monitoreo y medición del ajuste del pH del agua tratada del Río Cauca mediante índices de estabilización</td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed">Bueno-Zabala, K. A.; Torres-Lozada, P. &amp; Delgado-Cabrera, L. G. <span class="text-map-stream">(2014)</span></td>
                            <td class="px-3 py-4 text-center"><span class="text-white font-semibold">pH</span></td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed"><span class="text-map-stream font-semibold">Regresión lineal</span></td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed"><span class="text-map-stream font-bold">Reg. lineal</span><br>R²=0.86; RMSE=0.09</td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed">Evidencia empírica en contexto local (Río Cauca), útil para sustentar aplicabilidad del enfoque.</td>
                        </tr>
                        <tr class="border-b border-map-stream/10 hover:bg-map-stream/5 transition-colors bg-map-stream/5">
                            <td class="px-3 py-4 text-center"><span class="text-map-stream font-bold text-sm">[14]</span></td>
                            <td class="px-3 py-4 text-white font-medium leading-snug max-w-[180px]">Aprendizaje automático para la predicción de calidad de agua potable</td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed">Aguilar Aguilar, A. C. &amp; Obando-Díaz, F. F. <span class="text-map-stream">(2020)</span></td>
                            <td class="px-3 py-4 text-center"><span class="text-white font-semibold">pH · DBO · OD</span></td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed">Reg. lineal; <span class="text-map-stream font-semibold">Random Forest</span>; SVR</td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed"><span class="text-map-stream font-bold">Random Forest</span><br>R²=0.93; RMSE bajo</td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed">Alta capacidad predictiva de modelos ensemble y necesidad de combinar métricas para evaluar desempeño.</td>
                        </tr>
                        <tr class="hover:bg-map-stream/5 transition-colors">
                            <td class="px-3 py-4 text-center"><span class="text-map-stream font-bold text-sm">[18]</span></td>
                            <td class="px-3 py-4 text-white font-medium leading-snug max-w-[180px]">Un mapeo sistemático sobre predicción de calidad del agua mediante técnicas de inteligencia computacional</td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed">López, I. D.; Figueroa, A. &amp; Corrales, J. C. <span class="text-map-stream">(2016)</span></td>
                            <td class="px-3 py-4 text-center"><span class="text-white font-semibold">DBO · OD · pH</span></td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed">Reg.; KNN; <span class="text-map-stream font-semibold">Random Forest</span>; SVM</td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed"><span class="text-map-stream font-bold">Random Forest</span><br>R²=0.91; RMSE=0.12</td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed">Síntesis comparativa: los modelos ensemble presentan mejor desempeño en múltiples escenarios.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <!-- MODAL ENGLISH -->
    <div id="modalLitEN" class="modal-overlay fixed inset-0 flex items-center justify-center z-[9999] hidden" style="background-color: rgba(10, 25, 47, 0.97);">
        <div class="modal-content bg-map-accent border border-map-stream rounded-xl p-8 max-w-5xl w-full relative" style="max-width: 80rem;">
            <button id="closeModalLitEN" class="absolute top-4 right-4 text-map-stream text-xl font-bold">&times;</button>
            <h2 class="modal-title text-map-stream text-2xl font-bold mb-1">Revisión de Literatura: Estudios en Inglés</h2>
            <p class="text-gray-400 text-sm mb-5 border-l-4 border-map-stream pl-4 italic">Selección mínima para trazabilidad bibliográfica. Estudios alineados con variables objetivo (pH / DBO / OD / WQI), modelos de aprendizaje automático (RF, GB, XGBoost, Stacking, ANN) y enfoques de interpretabilidad (SHAP).</p>
            <div class="overflow-x-auto rounded-xl border border-map-stream/20">
                <table class="w-full text-xs border-collapse">
                    <thead>
                        <tr class="bg-map-stream/10 border-b border-map-stream/30">
                            <th class="text-map-stream font-black uppercase tracking-wider px-3 py-3 text-center w-12">DOC</th>
                            <th class="text-map-stream font-black uppercase tracking-wider px-3 py-3 text-left">DOCUMENTO</th>
                            <th class="text-map-stream font-black uppercase tracking-wider px-3 py-3 text-left">AUTORES (Año)</th>
                            <th class="text-map-stream font-black uppercase tracking-wider px-3 py-3 text-center">VARIABLES OBJETIVO</th>
                            <th class="text-map-stream font-black uppercase tracking-wider px-3 py-3 text-left">MODELOS</th>
                            <th class="text-map-stream font-black uppercase tracking-wider px-3 py-3 text-left">MÉTRICAS / MEJOR RENDIMIENTO</th>
                            <th class="text-map-stream font-black uppercase tracking-wider px-3 py-3 text-left">APORTE PARA EL PRESENTE ESTUDIO</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="border-b border-map-stream/10 hover:bg-map-stream/5 transition-colors">
                            <td class="px-3 py-4 text-center"><span class="text-map-stream font-bold text-sm">[16]</span></td>
                            <td class="px-3 py-4 text-white font-medium leading-snug max-w-[180px]">Predicting water quality index using stacked ensemble regression and SHAP based explainable artificial intelligence</td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed">Choudhary, R. et al. <span class="text-map-stream">(2025)</span></td>
                            <td class="px-3 py-4 text-center"><span class="text-white font-semibold">WQI</span></td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed">XGBoost; CatBoost; GBM; Extra Trees; AdaBoost; <span class="text-map-stream font-semibold">Stacking</span>; SHAP</td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed"><span class="text-map-stream font-bold">Stacking</span><br>R²≈0.99</td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed">Integra meta-aprendizaje (Stacking) e interpretabilidad (SHAP) para identificar variables influyentes.</td>
                        </tr>
                        <tr class="border-b border-map-stream/10 hover:bg-map-stream/5 transition-colors bg-map-stream/5">
                            <td class="px-3 py-4 text-center"><span class="text-map-stream font-bold text-sm">[19]</span></td>
                            <td class="px-3 py-4 text-white font-medium leading-snug max-w-[180px]">Machine Learning-Driven Water Quality Index Prediction: Enhancing Accuracy with Gradient Boosting and Explainable AI for Sustainable Water Monitoring</td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed">Islam, Md. J. et al. <span class="text-map-stream">(2024)</span></td>
                            <td class="px-3 py-4 text-center"><span class="text-white font-semibold">WQI</span></td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed"><span class="text-map-stream font-semibold">Gradient Boosting</span>; Random Forest; XGBoost</td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed"><span class="text-map-stream font-bold">Gradient Boosting</span><br>R²=0.94; RMSE=0.06</td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed">Respalda el uso de boosting de alto rendimiento para predicción de WQI; alineado con monitoreo sostenible.</td>
                        </tr>
                        <tr class="hover:bg-map-stream/5 transition-colors">
                            <td class="px-3 py-4 text-center"><span class="text-map-stream font-bold text-sm">[20]</span></td>
                            <td class="px-3 py-4 text-white font-medium leading-snug max-w-[180px]">Artificial Neural Network Assessment of Groundwater Quality for Agricultural Use in Babylon City: An Evaluation of Salinity and Ionic Composition</td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed">Al-Sulttani, A. O. et al. <span class="text-map-stream">(2024)</span></td>
                            <td class="px-3 py-4 text-center"><span class="text-white font-semibold">TDS · SAR · MAR · Na%</span></td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed"><span class="text-map-stream font-semibold">ANN</span></td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed"><span class="text-map-stream font-bold">ANN</span><br>R² hasta 98%</td>
                            <td class="px-3 py-4 text-gray-300 leading-relaxed">Referencia metodológica: redes neuronales con alta precisión para variables fisicoquímicas no lineales.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- MODAL METODOLOGÍA (diapositiva 6) -->
    <div id="modalMetodologia" class="modal-overlay fixed inset-0 flex items-center justify-center z-[9999] hidden" style="background-color: rgba(10, 25, 47, 0.97);">
        <div class="modal-content bg-map-accent border border-map-stream rounded-xl p-8 max-w-5xl w-full relative" style="max-width: 80rem; max-height: 88vh; overflow-y: auto;">
            <button id="closeModalMetodologia" class="sticky top-0 float-right text-map-stream text-xl font-bold z-10">&times;</button>
            <h2 class="modal-title text-map-stream text-2xl font-bold mb-1">Pipeline de Modelado Predictivo ML</h2>
            <p class="text-gray-400 text-sm mb-5 border-l-4 border-map-stream pl-4 italic">Pipeline secuencial: control de calidad, selección robusta, comparación de modelos, optimización e interpretabilidad.</p>

            <!-- ETAPA 01 -->
            <div class="flex gap-5 p-5 rounded-2xl border border-map-stream/20 bg-map-blue/20 mb-4">
                <div class="flex-none flex flex-col items-center justify-start pt-1 w-12">
                    <span class="text-map-stream font-black text-3xl leading-none">01</span>
                </div>
                <div class="flex-1">
                    <h3 class="text-white font-bold text-sm uppercase tracking-wider mb-3">Datos &amp; Preprocesamiento</h3>
                    <ul class="space-y-1 text-xs text-gray-300">
                        <li class="flex items-start gap-2"><span class="text-map-stream mt-0.5">▸</span> Limpieza y conversión numérica</li>
                        <li class="flex items-start gap-2"><span class="text-map-stream mt-0.5">▸</span> Filtro por completitud <span class="text-white font-semibold ml-1">≥ 80 %</span></li>
                        <li class="flex items-start gap-2"><span class="text-map-stream mt-0.5">▸</span> Imputación KNN <span class="text-white font-semibold ml-1">(k = 5)</span></li>
                        <li class="flex items-start gap-2"><span class="text-map-stream mt-0.5">▸</span> Escalado y control de nulos</li>
                    </ul>
                </div>
            </div>

            <!-- ETAPA 02 -->
            <div class="flex gap-5 p-5 rounded-2xl border border-map-stream/30 bg-map-stream/5 mb-4">
                <div class="flex-none flex flex-col items-center justify-start pt-1 w-12">
                    <span class="text-map-stream font-black text-3xl leading-none">02</span>
                </div>
                <div class="flex-1">
                    <h3 class="text-white font-bold text-sm uppercase tracking-wider mb-3">Selección de Variables</h3>
                    <div class="space-y-3">
                        <!-- Spearman -->
                        <div class="bg-map-blue/40 rounded-xl p-3 border border-map-stream/10">
                            <div class="flex items-center gap-2 mb-1">
                                <span class="text-white font-semibold text-xs">Spearman |ρ| ≥ 0.85</span>
                                <span class="text-[10px] bg-map-stream/20 text-map-stream px-2 py-0.5 rounded-full font-bold">Eliminación</span>
                                <span class="text-map-stream text-xs font-bold ml-auto">[21]</span>
                            </div>
                            <p class="text-gray-400 text-xs">Correlación de rangos para detectar colinealidad entre predictores.</p>
                        </div>
                        <!-- VIF -->
                        <div class="bg-map-blue/40 rounded-xl p-3 border border-map-stream/10">
                            <div class="flex items-center gap-2 mb-1">
                                <span class="text-white font-semibold text-xs">VIF iterativo (≤ 10)</span>
                                <span class="text-[10px] bg-map-stream/20 text-map-stream px-2 py-0.5 rounded-full font-bold">Eliminación y selección</span>
                                <span class="text-map-stream text-xs font-bold ml-auto">[22]</span>
                            </div>
                            <p class="text-gray-400 text-xs">Factor de inflación de varianza — mide multicolinealidad entre variables.</p>
                        </div>
                        <!-- RFE -->
                        <div class="bg-map-blue/40 rounded-xl p-3 border border-map-stream/10">
                            <div class="flex items-center gap-2 mb-1">
                                <span class="text-white font-semibold text-xs">RFE por objetivo (pH / DBO)</span>
                                <span class="text-[10px] bg-map-stream/20 text-map-stream px-2 py-0.5 rounded-full font-bold">Eliminación y selección</span>
                                <span class="text-map-stream text-xs font-bold ml-auto">[23]</span>
                            </div>
                            <p class="text-gray-400 text-xs">Eliminación recursiva de características — optimiza el subconjunto por variable objetivo.</p>
                        </div>
                        <!-- Conjunto común -->
                        <div class="bg-map-blue/40 rounded-xl p-3 border border-map-stream/10">
                            <div class="flex items-center gap-2 mb-1">
                                <span class="text-white font-semibold text-xs">Conjunto común (∪)</span>
                                <span class="text-[10px] bg-map-stream/20 text-map-stream px-2 py-0.5 rounded-full font-bold">Unión RFE</span>
                            </div>
                            <p class="text-gray-400 text-xs">Intersección y unión de variables óptimas seleccionadas por cada enfoque.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ETAPA 03 -->
            <div class="flex gap-5 p-5 rounded-2xl border border-map-stream/20 bg-map-blue/20 mb-4">
                <div class="flex-none flex flex-col items-center justify-start pt-1 w-12">
                    <span class="text-map-stream font-black text-3xl leading-none">03</span>
                </div>
                <div class="flex-1">
                    <h3 class="text-white font-bold text-sm uppercase tracking-wider mb-3">Modelado &amp; Optimización</h3>
                    <ul class="space-y-1 text-xs text-gray-300">
                        <li class="flex items-start gap-2"><span class="text-map-stream mt-0.5">▸</span> 4 escenarios de variables <span class="text-gray-500 ml-1">(VIF · RFE-DBO · RFE-pH · Conjunto común)</span></li>
                        <li class="flex items-start gap-2"><span class="text-map-stream mt-0.5">▸</span> Modelos: <span class="text-white font-semibold ml-1">Regresión · Árbol de Decisión · RF · SVR · MLP · XGBoost</span></li>
                        <li class="flex items-start gap-2"><span class="text-map-stream mt-0.5">▸</span> Holdout <span class="text-white font-semibold ml-1">80 / 20</span></li>
                        <li class="flex items-start gap-2"><span class="text-map-stream mt-0.5">▸</span> Optimización: <span class="text-white font-semibold ml-1">GridSearchCV</span> y <span class="text-white font-semibold ml-1">Optuna</span></li>
                    </ul>
                </div>
            </div>

            <!-- ETAPA 04 -->
            <div class="flex gap-5 p-5 rounded-2xl border border-map-stream/30 bg-map-stream/5 mb-2">
                <div class="flex-none flex flex-col items-center justify-start pt-1 w-12">
                    <span class="text-map-stream font-black text-3xl leading-none">04</span>
                </div>
                <div class="flex-1">
                    <h3 class="text-white font-bold text-sm uppercase tracking-wider mb-3">Evaluación &amp; Explicabilidad</h3>
                    <ul class="space-y-1 text-xs text-gray-300">
                        <li class="flex items-start gap-2"><span class="text-map-stream mt-0.5">▸</span> Métricas: <span class="text-white font-semibold ml-1">RMSE · MAE · R²</span></li>
                        <li class="flex items-start gap-2"><span class="text-map-stream mt-0.5">▸</span> Selección del mejor modelo por objetivo <span class="text-gray-500 ml-1">(pH / DBO)</span></li>
                        <li class="flex items-start gap-2"><span class="text-map-stream mt-0.5">▸</span> Permutation Importance</li>
                        <li class="flex items-start gap-2"><span class="text-map-stream mt-0.5">▸</span> SHAP <span class="text-gray-500 ml-1">(modelos basados en árboles)</span></li>
                        <li class="flex items-start gap-2"><span class="text-map-stream mt-0.5">▸</span> Curvas de aprendizaje</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Río Animado (Línea de corriente) -->
    <div class="river-line-container">
        <svg width="100%" height="100%" preserveAspectRatio="none">
            <path id="riverPath" class="river-path" d="M -100,200 Q 200,50 400,300 T 900,100 T 1500,400" />
        </svg>
    </div>

    <button id="prevBtn" class="nav-btn left-[50px]">Prev</button>
    <button id="nextBtn" class="nav-btn right-[50px]">Next</button>

    <script>
        const slides = document.querySelectorAll('.slide');
        const progressBar = document.getElementById('progressBar');
        const riverPath = document.getElementById('riverPath');
        let current = 0;

            // Lógica para los modales de la diapositiva 4
            const slide4 = slides[3];
            if (slide4) {
                const buttons = slide4.querySelectorAll('.grid button');
                const modals = [
                    document.getElementById('modalModulo1'),
                    document.getElementById('modalModulo2'),
                    document.getElementById('modalModulo3'),
                    document.getElementById('modalModulo4'),
                    document.getElementById('modalModulo5')
                ];
                buttons.forEach((btn, idx) => {
                    btn.onclick = () => {
                        modals[idx].classList.remove('hidden');
                    };
                });
                // Cerrar cada modal
                modals.forEach((modal, idx) => {
                    const closeBtn = modal.querySelector('button');
                    closeBtn.onclick = () => {
                        modal.classList.add('hidden');
                    };
                    // Cerrar al hacer clic fuera del contenido
                    modal.onclick = (e) => {
                        if (e.target === modal) modal.classList.add('hidden');
                    };
                });
            }

            // Lógica para el modal de la diapositiva 6
            const btnMetodologia = document.getElementById('btnMetodologia');
            if (btnMetodologia) {
                const modalMet = document.getElementById('modalMetodologia');
                btnMetodologia.onclick = () => { modalMet.classList.remove('hidden'); };
                document.getElementById('closeModalMetodologia').onclick = () => { modalMet.classList.add('hidden'); };
                modalMet.onclick = (e) => { if (e.target === modalMet) modalMet.classList.add('hidden'); };
            }

            // Lógica para los modales de la diapositiva 5
            const btnLitES = document.getElementById('btnLitES');
            const btnLitEN = document.getElementById('btnLitEN');
            if (btnLitES && btnLitEN) {
                btnLitES.onclick = () => { document.getElementById('modalLitES').classList.remove('hidden'); };
                btnLitEN.onclick = () => { document.getElementById('modalLitEN').classList.remove('hidden'); };
                ['modalLitES', 'modalLitEN'].forEach(id => {
                    const modal = document.getElementById(id);
                    modal.querySelector('button').onclick = () => { modal.classList.add('hidden'); };
                    modal.onclick = (e) => { if (e.target === modal) modal.classList.add('hidden'); };
                });
            }

        function update() {
            slides.forEach((s, i) => s.classList.toggle('active', i === current));
            const progressPercent = ((current + 1) / slides.length) * 100;
            progressBar.style.width = progressPercent + '%';
            
            // Variar el camino del río sutilmente en cada slide
            const offset = current * 50;
            riverPath.setAttribute('d', `M -100,${200+offset} Q 200,${50-offset} 400,${300+offset} T 900,${100-offset} T 1500,${400+offset}`);
        }

        document.getElementById('nextBtn').onclick = () => { if(current < slides.length - 1) { current++; update(); } };
        document.getElementById('prevBtn').onclick = () => { if(current > 0) { current--; update(); } };
        
        document.addEventListener('keydown', e => { 
            if(e.key === 'ArrowRight' || e.key === ' ') document.getElementById('nextBtn').click();
            if(e.key === 'ArrowLeft') document.getElementById('prevBtn').click();
        });
    </script>
</body>
</html>